import{u as p,b as j,a as N,r as l,c as _,j as a,e as S,S as f,A as b,y}from"./index-Dsyms-5d.js";import{L as w}from"./LoginModal-C7tiThzF.js";import"./Spinner-ChLPhxBd.js";import"./index-CA4HDCCN.js";const A=()=>{const o=p(),{category:n}=j().state,{latitude:d,longitude:i,token:t,logout:g}=N(),[e,v]=l.useState([]),[h,r]=l.useState(!1),c=_("catServ-loader"),u=()=>{c.setLoading(!0),b.post("/user/getServiceList",{latitude:Number(d),longitude:Number(i),filters:{search:"",category_id:n},pagination:{page:1,pageSize:50}}).then(s=>{v(s.data.list)}).catch(s=>{console.log(s)}).finally(()=>{c.setLoading(!1)})};l.useEffect(()=>{u()},[]);const x=s=>{t=="guest"?r(!0):s.is_available?o(`/summery/${s==null?void 0:s.service_id}`):y.error(s.availability_message)};return a.jsxs(a.Fragment,{children:[a.jsx(S,{}),a.jsxs("div",{className:"container pb-10 main-content-service",children:[a.jsx("div",{className:"row pt-4",children:a.jsx("div",{className:"col-12",children:a.jsx("p",{className:"font-14 weight-bold mb-0",children:"Services by Category"})})}),a.jsxs("div",{className:"row",children:[a.jsx(f,{size:"medium",show:c.loading,text:"Loading Services by category...",overlay:!0}),!c.loading&&(e==null?void 0:e.length)>0&&e.map(s=>a.jsx("div",{className:"col-6 pt-3",children:a.jsxs("div",{className:"serv_cards",children:[a.jsx("img",{src:s.service_image,className:"w-100",style:{height:"140px"},onClick:()=>o(`/servicedeatils/${s==null?void 0:s.service_id}`)}),a.jsx("h3",{className:"s_h",onClick:()=>o(`/servicedeatils/${s==null?void 0:s.service_id}`),children:s==null?void 0:s.service_name}),a.jsxs("p",{className:"s_r",onClick:()=>o(`/servicedeatils/${s==null?void 0:s.service_id}`),children:["⭐ ",(s==null?void 0:s.avg_rating)||"0"," (",(s==null?void 0:s.total_reviews)||"0",")"]}),a.jsxs("p",{className:"s_p",onClick:()=>o(`/servicedeatils/${s==null?void 0:s.service_id}`),children:["₹",s==null?void 0:s.price,a.jsx("br",{}),"Duration : ",s==null?void 0:s.duration]}),a.jsx("button",{onClick:()=>x(s),className:"a_cart",children:"Book Now"})]})},s==null?void 0:s.service_id)),!c.loading&&(e==null?void 0:e.length)===0&&a.jsx("div",{className:"col-12",children:a.jsx("p",{className:"font-14 weight-bold",children:"No Services"})})]}),a.jsx(w,{show:h,onCancel:()=>r(!1),onConfirm:()=>{g(),r(!1)}})]})]})};export{A as default};
