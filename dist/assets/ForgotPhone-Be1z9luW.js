import{u as x,b as f,r as j,j as e,C as y,A as v,y as m}from"./index-DEIqmbY-.js";import{l as _}from"./dlogo-DICp3sQV.js";import{c as N,a as n,u as S,I as C,o as P}from"./index.esm-CAr2bw5T.js";const F=()=>{var l,c,i;const r=x(),u=(l=f().state)==null?void 0:l.role,[a,o]=j.useState(!1),d=N({country_code:n().default("+91"),phone_number:n().required("Phone number is required").matches(/^[+]?[\d\s\-()]{10,15}$/,"Please enter a valid phone number"),user_type:n().default(u)}),{handleSubmit:p,formState:{errors:h},control:b}=S({resolver:P(d),mode:"onChange"}),g=t=>{o(!0),v.post("/user/forgotPin",t).then(s=>{console.log(s),o(!1),m.success(s.message),r("/forgot-otp",{state:{phone_number:t.phone_number,country_code:t.country_code,user_type:t.user_type}})}).catch(s=>{console.log(s),o(!1),m.error(s.response.data.message)}).finally(()=>{o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"absolute"},children:e.jsxs("button",{className:"back-btn mb-3 mt-4 px-3 py-3",style:{color:"#000"},onClick:()=>{r(-1)},children:[e.jsx(y,{})," Back"]})}),e.jsxs("div",{className:"h-100vh gred2 pt-5",children:[e.jsx("div",{className:"cir",children:e.jsx("img",{src:_})}),e.jsxs("div",{className:"px-4 pt-5",children:[e.jsx("h6",{children:"Enter Mobile Number"}),e.jsx(C,{control:b,name:"phone_number",label:"",type:"text",placeholder:"Enter phone number",inputMode:"numeric",maxLength:12,error:(i=(c=h.phone_number)==null?void 0:c.message)==null?void 0:i.toString()}),e.jsx("p",{className:"color-grey font-12 mt-2",children:"An OTP will be sent on given phone number for verification.Standard message and data rates apply."}),e.jsx("button",{className:"fill mt-3",onClick:p(g),disabled:a,children:a?"Continue...":"Continue"})]})]})]})};export{F as default};
