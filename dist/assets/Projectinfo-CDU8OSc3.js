import{d as u,r as p,c as M,u as _,j as e,e as Y,M as y,A as S}from"./index-Dsyms-5d.js";import{d as a}from"./dayjs.min-BQar3Thp.js";import{C as q}from"./check-DeYW6Zow.js";import{U as L}from"./user-CdKzKqA_.js";const C=()=>{var l,m,n,t,i,x,h,j;const{id:r}=u(),[s,o]=p.useState({}),d=M("booking-details"),N=()=>{d.setLoading(!0),S.post("/servicemen/getBookingDetailsForServiceman",{booking_id:r}).then(c=>{console.log(c),o(c.data)}).catch(c=>{console.log(c)}).finally(()=>{d.setLoading(!1)})};p.useEffect(()=>{N()},[r]);const v=_();return e.jsxs(e.Fragment,{children:[e.jsx(Y,{customBack:()=>v("/bookinghistory")}),d.loading&&e.jsxs("div",{className:"full-page-loader",children:[e.jsx("div",{className:"loader-spinner"}),e.jsx("p",{children:"Loading request details..."})]}),e.jsxs("div",{className:"main-content-service2",children:[e.jsxs("div",{className:"pt-4 pb-0",children:[e.jsx("div",{className:"px-3",children:e.jsxs("div",{className:"cards5",children:[e.jsx("p",{className:"font-14 mb-2",children:"Project Details"}),e.jsxs("div",{className:" pb-2",children:[e.jsx("h5",{className:"head5",children:e.jsx("b",{children:s==null?void 0:s.service_name})}),e.jsxs("p",{className:"mb-0 font-14 color-blue",children:["Booking ID: ",s==null?void 0:s.bkng_id]})]}),e.jsxs("div",{className:"d-flex  align-items-center  gap-1 pb-2 pt-1",children:[e.jsx(y,{size:14}),e.jsx("p",{className:"m-0 font-14 ",children:"Location"})]}),e.jsxs("p",{className:"mb-0 font-14",children:[(l=s==null?void 0:s.address)==null?void 0:l.street_1,","," ",(m=s==null?void 0:s.address)==null?void 0:m.city,",",(n=s==null?void 0:s.address)==null?void 0:n.state,","," ",(t=s==null?void 0:s.address)==null?void 0:t.zip]})]})}),e.jsx("div",{className:"px-3 pt-3",children:e.jsx("div",{className:"cards5",children:e.jsxs("p",{className:"font-14 mb-0",children:["The request will start -"," ",a(s==null?void 0:s.date).format("dddd, MMMM D YYYY")," @"," ",s==null?void 0:s.booking_time]})})})]}),e.jsx("div",{className:"container pb-10",children:e.jsxs("div",{className:"row px-1 pt-3",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"cards5",children:[e.jsx("b",{className:"mb-1 font-14 color-grey",children:"Job Description"}),e.jsx("p",{className:"mb-0 font-14",children:(s==null?void 0:s.job_description)||"No description provided"}),e.jsx("h5",{className:"font-14 pt-3 ",children:"Your request has been booked!"}),(s==null?void 0:s.booking_status)==="cancelled"?e.jsx("p",{className:"font-14 text-danger",children:"Your request has been cancelled!"}):e.jsx("div",{className:"   ",children:(s==null?void 0:s.booking_status_timeline)&&(s==null?void 0:s.booking_status_timeline.map((c,f)=>e.jsxs("div",{className:"chk "+(c!=null&&c.timestamp?"active":""),children:[e.jsx("span",{children:e.jsx(q,{})}),e.jsxs("div",{children:[c.status,c.timestamp&&e.jsx("p",{className:"font-12 text-muted mb-0 mt-1",children:a(c.timestamp).format("MMM D, h:mm A")})]})]},f)))}),e.jsxs("p",{className:"font-12",children:["You booked this request on"," ",a(s==null?void 0:s.date).format("dddd, MMMM D YYYY")," for"," ",s==null?void 0:s.booking_time]})]})}),e.jsx("div",{className:"col-12 pt-3",children:e.jsx("h4",{className:"font-16",children:"Service Details"})}),e.jsx("div",{className:"col-12 pt-1",children:e.jsxs("div",{className:"cards5",children:[e.jsxs("div",{className:"d-flex gap-10 align-items-center",children:[e.jsx(L,{size:20}),s==null?void 0:s.service_name]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-6 pt-3",children:[e.jsx("p",{className:"mb-1 font-12 color-grey",children:"Date"}),e.jsx("p",{className:"mb-0 mb-0 font-14",children:a(s==null?void 0:s.date).format("dddd, MMMM D YYYY")})]}),e.jsxs("div",{className:"col-6 pt-3",children:[e.jsx("p",{className:"mb-1 font-12 color-grey",children:"Start time"}),e.jsx("p",{className:"mb-0 mb-0 font-14",children:s==null?void 0:s.booking_time})]}),e.jsxs("div",{className:"col-12 pt-3",children:[e.jsx("p",{className:"mb-1 font-12 color-grey",children:"Servicemen"}),e.jsx("p",{className:"mb-0 mb-0 font-14",children:s==null?void 0:s.servicemen_name})]}),e.jsxs("div",{className:"col-12 pt-3",children:[e.jsx("p",{className:"mb-1 font-12 color-grey",children:"Address"}),e.jsxs("p",{className:"mb-0 mb-0 font-14",children:[(i=s==null?void 0:s.address)==null?void 0:i.street_1,","," ",(x=s==null?void 0:s.address)==null?void 0:x.city,","," ",(h=s==null?void 0:s.address)==null?void 0:h.state,","," ",(j=s==null?void 0:s.address)==null?void 0:j.zip]})]})]})]})}),e.jsx("div",{className:"col-12 pt-3",children:e.jsxs("div",{className:"row px-1",children:[e.jsx("div",{className:"col-6",children:e.jsx("p",{className:"font-14",children:"Booking Cost"})}),e.jsx("div",{className:"col-6",children:e.jsxs("p",{className:"font-14 text-right",children:["â‚¹",s==null?void 0:s.booking_amount]})})]})})]})})]})]})};export{C as default};
